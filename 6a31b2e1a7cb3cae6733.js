function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function _iterableToArrayLimit(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o,a,n=[],i=!0,p=!1;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){p=!0,a=t}finally{try{i||null==r.return||r.return()}finally{if(p)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}import FormValidator from"../components/FormValidator.js";import Section from"../components/Section.js";import{validityConfig}from"../utils/const.js";import{addNewCard,createCard}from"../utils/utils.js";import PopupWithImage from"../components/PopupWithImage.js";import PopupWithForm from"../components/PopupWithForm.js";import PopupWithDelete from"../components/PopupWithDelete.js";import UserInfo from"../components/UserInfo.js";import Api from"../components/Api.js";export var API=new Api({baseUrl:"https://nomoreparties.co/v1/cohort-45",headers:{authorization:"6c0813fa-7f5c-4c03-af63-becb96462d1c","Content-type":"application/json"}});var getUserData=API.getUserData(),getInitialCards=API.getInitialCards();Promise.all([getUserData,getInitialCards]).then((function(t){var e=_slicedToArray(t,2),r=e[0],o=e[1];userInfo.setUserInfo(r),defaultCardList.renderItems(o)})).catch((function(t){return console.log(t)}));export var userInfo=new UserInfo({nameSelector:".profile__name",profSelector:".profile__text",avatarSelector:".profile__avatar-image"});export var popupWithEdit=new PopupWithForm("#edit",(function(t){t.preventDefault(),popupWithEdit.changeSaveTextInProcess(),API.editUserInfo(popupWithEdit.getInputValues()).then((function(t){userInfo.setUserInfo(t),popupWithEdit.close()})).catch((function(t){console.log(t)})).finally((function(){popupWithEdit.changeSaveText()}))}));popupWithEdit.setEventListeners();export var popupWithAdd=new PopupWithForm("#add",(function(t){t.preventDefault(),popupWithAdd.changeSaveTextInProcess(),addNewCard(t)}));popupWithAdd.setEventListeners();export var popupWithImage=new PopupWithImage("#image");popupWithImage.setEventListeners();export var popupWithDecision=new PopupWithDelete("#decision",(function(t){t.preventDefault(),popupWithDecision.card.deleteCard(),popupWithDecision.changeSaveTextInProcess()}));popupWithDecision.setEventListeners();export var popupWithAvatar=new PopupWithForm("#avatar",(function(t){t.preventDefault(),popupWithAvatar.changeSaveTextInProcess(),API.editAvatar(popupWithAvatar.form.querySelector(".popup__input").value).then((function(t){document.querySelector(".profile__avatar-image").src=t.avatar,popupWithAvatar.close()})).catch((function(t){console.log(t)})).finally((function(){popupWithAvatar.changeSaveText()}))}));popupWithAvatar.setEventListeners(),document.querySelector(".profile__avatar").addEventListener("click",(function(){popupWithAvatar.open()}));export var defaultCardList=new Section((function(t){defaultCardList.addItem(createCard(t,"#initial-card"))}),".elements");popupWithImage.setEventListeners(),document.querySelector(".profile__edit-button").addEventListener("click",(function(){var t=userInfo.getUserInfo();popupWithEdit.setInputValues(t),popupWithEdit.open()})),document.querySelector(".profile__add-button").addEventListener("click",(function(){popupWithAdd.open()}));var edtFormValidator=new FormValidator(validityConfig,"#edit-form");edtFormValidator.enableValidation();export var addFormValidator=new FormValidator(validityConfig,"#add-form");addFormValidator.enableValidation();var avatarFormValidator=new FormValidator(validityConfig,"#avatar-form");avatarFormValidator.enableValidation();